{"version":3,"file":"ShowListParser.js","sourceRoot":"","sources":["../../../../src/lib/show/ShowListParser.ts"],"names":[],"mappings":";;;;;;;;AAEA,kDAA0C;AAO1C,MAAqB,cAAc;IAEjC,MAAM,CAAC,SAAS,CAAC,IAAS,EAAE,IAA0B;QACpD,MAAM,KAAK,GAAW,EAAE,CAAC;QACzB,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC3D,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAS,EAAE,EAAE;gBACjC,MAAM,MAAM,GAAS;oBACnB,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,IAAI,CAAC,KAAK;oBAChB,GAAG,EAAE,uBAAA,IAAI,sCAAY,MAAhB,IAAI,EAAa,IAAI,CAAC,EAAE,CAAC;oBAC9B,aAAa,EAAE,IAAI,CAAC,cAAc;oBAClC,WAAW,EAAE,IAAI,CAAC,IAAI;oBACtB,YAAY,EAAE,IAAI,CAAC,aAAa;oBAChC,QAAQ,EAAE,IAAI,CAAC,QAAQ;oBACvB,cAAc,EAAE,GAAG,IAAI,CAAC,YAAY,QAAQ,IAAI,CAAC,WAAW,IAAI;iBACjE,CAAC;gBACF,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE,EAAE;oBAC5C,MAAM,CAAC,QAAQ,GAAG,GAAG,IAAI,CAAC,YAAY,QAAQ,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,MAAM,CAAC;iBAC7F;gBACD,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC,CAAC,CAAC;SACJ;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CAKF;AA5BD,iCA4BC;sFAHoB,MAAc;IAC/B,OAAO,GAAG,gBAAI,CAAC,QAAQ,UAAU,MAAM,EAAE,CAAC;AAC5C,CAAC","sourcesContent":["import { ImageFormat } from '../types/Image';\nimport Show from '../types/Show';\nimport { URLS } from '../utils/Constants';\n\ninterface ShowListParseOptions {\n  imageBaseUrl: string;\n  imageFormat: ImageFormat | null;\n}\n\nexport default class ShowListParser {\n\n  static parseList(json: any, opts: ShowListParseOptions): Show[] {\n    const shows: Show[] = [];\n    if (typeof json === 'object' && Array.isArray(json.results)) {\n      json.results.forEach((show: any) => {\n        const parsed: Show = {\n          type: 'show',\n          name: show.title,\n          url: this.#getShowUrl(show.id),\n          publishedDate: show.published_date,\n          description: show.desc,\n          imageCaption: show.image_caption,\n          subtitle: show.subtitle,\n          screenImageUrl: `${opts.imageBaseUrl}/img/${show.v2_image_id}_0`\n        };\n        if (show.v2_image_id && opts.imageFormat?.id) {\n          parsed.imageUrl = `${opts.imageBaseUrl}/img/${show.v2_image_id}_${opts.imageFormat.id}.jpg`;\n        }\n        shows.push(parsed);\n      });\n    }\n    return shows;\n  }\n\n  static #getShowUrl(showId: string): string {\n    return `${URLS.SITE_URL}/?show=${showId}`;\n  }\n}\n"]}